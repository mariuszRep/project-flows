# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a TypeScript implementation of the MCP (Model Context Protocol) server, equivalent to the Python version in `/root/projects/mcp-python/`. The project contains a single MCP server that provides task creation and planning functionality through a "create_task" tool.

## Architecture

- **Main Server**: `src/index.ts` - The primary MCP server implementation in TypeScript
- **Schema Configuration**: `schema_properties.json` - Defines dynamic schema properties for task creation
- **Build Output**: `dist/` - Compiled JavaScript output (generated by TypeScript compiler)

### Core Components

- The server implements MCP protocol using the `@modelcontextprotocol/sdk` TypeScript library
- Tool registration system with dynamic schema loading from JSON configuration
- Dependency validation and execution ordering for task properties
- Markdown output formatting for task plans

## Development Commands

### Environment Setup
```bash
# Install dependencies
npm install

# Build the project
npm run build

# Run the server (connects via stdio)
npm start

# Development mode with auto-reload
npm run dev

# Clean build artifacts
npm run clean
```

### Dependencies
- Node.js (ES2022 compatible)
- TypeScript 5.x
- @modelcontextprotocol/sdk - MCP SDK for TypeScript
- tsx - TypeScript execution for development

## Key Implementation Details

- The server provides one tool: `create_task` which accepts Title, Summary, and dynamic properties
- Dynamic properties are loaded from `schema_properties.json` with execution order and dependency management
- Properties include Research (depends on Summary) and Items (depends on Summary and Research)
- Output is formatted as structured markdown with sections for each property
- Server runs over stdio communication channel
- Equivalent functionality to the Python version with identical schema and behavior

## Build Process

The project uses TypeScript compilation:
- Source files in `src/` are compiled to `dist/`
- ES modules with Node.js compatibility
- Source maps and declarations generated for debugging
- Strict TypeScript configuration for type safety